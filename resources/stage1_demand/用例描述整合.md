# 简介

在这里我们总结一下我们个人页面系统的所有用例。

## 模块划分

​	我们总共在个人页面划分了五个模块，分别是

1. 商品检索模块
2. 个人商品处理模块
3. 他人商品管理模块
4. 个人信息管理模块
5. 信息交流模块

那我们就按照这个顺序，一个一个来写吧。  

### 商品检索模块

#### 搜索

| 用例名称 | 搜索                                       |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户输入搜索关键字并点击搜索按钮                         |
| 前置条件 | 搜索框中内容不为空                                |
| 后置条件 | 返回符合用户输入关键字的模糊查询结果的商品列表                  |
| 正常流程 | 1.用户输入搜索关键字 <br>2.用户点击搜索按钮 <br>3.系统跳转到包含所有结果的商品列表页 |
| 扩展流程 | 若用户无输入或输入空白字符，并点击搜索按钮，则提示不能输入空白          |
| 特殊需求 | 系统可以展示搜索历史，和根据搜索历史生成的推荐搜索                |

### 个人商品处理模块

#### 商品发布

| 用例名称 | 商品发布                                     |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户通过此用例向系统提交商品发布请求                       |
| 前置条件 | 以用户的账号登录系统                               |
| 后置条件 | 更新商品信息                                   |
| 正常流程 | 1.用户点击发布商品按钮<br />2.系统进入发布页面，用户在页面填写商品信息，填写完毕后点击提交；商品信息包括商品名称、商品价格、商品文字描述、商品图片<br />3.系统弹出窗口提示提交成功，并更新商品信息 |
| 扩展流程 | 2.a.用户在发布页面点击返回按钮<br />     1.系统弹出窗口，提示是否确定返回<br />     2.若用户点击取消按钮，则返回发布页面继续进行正常流程；若用户点击确认按钮，则系统跳转回上一页面，且不保存已填写的信息<br>2.b.用户信息未填写完毕并点击发布 **//TODO** |
| 特殊需求 |                                          |

#### 商品编辑

| 用例名称 | 商品编辑                                     |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户通过此用例向系统提交商品编辑请求                       |
| 前置条件 | 以用户的账号登录系统                               |
| 后置条件 | 更新商品信息                                   |
| 正常流程 | 1.用户点击编辑商品按钮<br />2.系统进入编辑页面.<br>3.用户在页面修改商品信息，修改完毕后点击提交；商品信息包括商品名称、商品价格、商品文字描述、商品图片<br />4.系统弹出窗口提示提交成功，并更新商品信息 |
| 扩展流程 | 2.a.用户在发布页面点击返回按钮<br />     1.系统弹出窗口，提示是否确定返回<br />     2.若用户点击取消按钮，则返回发布页面继续进行正常流程；若用户点击确认按钮，则系统跳转回上一页面，且不保存已填写的信息<br>3.a.用户修改信息不合法 **//TODO** |
| 特殊需求 |                                          |

#### 商品删除

| 用例名称 | 商品删除                                     |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户通过此用例向系统提交商品删除请求                       |
| 前置条件 | 以用户的账号登录系统                               |
| 后置条件 | 更新商品数据信息                                 |
| 正常流程 | 1.用户点击编辑商品按钮<br />2.系统进入编辑页面，用户在页面点击删除按钮<br />3.系统弹出提示窗口，询问是否确认删除；<br>a.<br>1.用户点击确认,<br>2.则系统将商品删除<br>b.<br>1.用户点击取消<br>2.系统取消所有操作 |
| 扩展流程 | 2.a.用户在发布页面点击返回按钮<br />     1.系统弹出窗口，提示是否确定返回<br />     2.若用户点击取消按钮，则返回发布页面继续进行正常流程；若用户点击确认按钮，则系统跳转回上一页面 |
| 特殊需求 |                                          |

### 他人商品管理模块

#### 商品查看

| 商品查看 |                                          |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户想要查看商品<br> **//TODO**这个有问题，这个应该是点击某个具体的商品查看,而不是类似检索的功能 |
| 前置条件 | 用户经过了账户认证                                |
| 后置条件 |                                          |
| 正常流程 | 1.用户请求查看发布商品的其他用户的商品。<br>2.系统显示已发布的商品列表，初始按发布时间排序。 |
| 扩展流程 | 2a.用户选择商品排序方式。系统根据当前排序方式对商品排序展示。         |
| 特殊需求 |                                          |

#### 我的收藏

| 我的收藏 |                                          |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户想要收藏商品                                 |
| 前置条件 | 用户经过了账户认证，要收藏的商品未下架                      |
| 后置条件 |                                          |
| 正常流程 | 1.用户请求收藏商品。<br>2.系统将商品加入“我的收藏”列表。        |
| 扩展流程 | **//TODO**用户取消收藏                         |
| 特殊需求 | 若我的收藏列表当中的商品下架或者被标志为已交易，则从列表中删除，<br>并向我的消息发送通知 |

#### 商品举报

| 商品举报 |                                          |
| ---- | ---------------------------------------- |
| 参与者  | 用户                                       |
| 触发条件 | 用户想要举报商品                                 |
| 前置条件 | 用户经过了账户认证                                |
| 后置条件 |                                          |
| 正常流程 | 1.用户请求举报商品。<br>2.系统显示举报页面。<br>3.用户填写举报理由，并提交。<br>4.系统保存信息，提交到后台管理系统。 |
| 扩展流程 |                                          |
| 特殊需求 |                                          |

### 个人信息管理模块

#### 注册时填写最低限度的个人信息

| 用例名称  | 用户注册                                     |
| ----- | ---------------------------------------- |
| 用例标识号 | 501                                      |
| 参与者   | 用户                                       |
| 简要说明  | 注册时填写最低限度的个人信息（包括手机号、账号、密码）。用户的这些个人信息填写完成、提交后，都需要经过检测符合条件才可以被录入数据库。 |
| 前置条件  | 无。                                       |
| 正常流程  | 1．用户点击“注册”按钮。<br> 2．系统跳转到注册页面，提示用户输入用户名、手机号和密码。<br>  3．用户点击提交后，系统检查是否满足限制条件，是则录入数据库并且给出注册成功的提示。<br>  4．自动跳转至登录页面。 |
| 扩展流程  | 1.a注册时，用户在按“提交”按钮之前，随时可以按“返回”按钮，数据库不会记录这些信息。<br>3.a<br>1．不满足限制条件，提示错误信息，用户重新输入； <br> 2．返回到登录主页面。 |
| 后置条件  | 用户注册成功，将用户数据存到数据库之中。                     |
| 注释    | 用户的密码必须在6位及以上，且不能只是数字；用户的用户名只能由英文字母和数字组成，不能超过12个字节（单个英文字母、数字都是一个字节）；用户的手机号需要是十一位的纯数字组合。另外，用户名可以重复，但是用户的手机号将唯一标识用户。 |

#### 查看、编辑已有的个人信息

| 用例名称    | 查看、编辑已有的个人信息                             |
| ------- | ---------------------------------------- |
| 用例标识号   | 502**//TODO**这是两个用例，拆开来                  |
| 参与者     | 用户                                       |
| 简要说明    | 用户对想要进行修改的信息进行修改，或者查看相关信息。这些个人信息填写完成、提交后，都需要经过检测符合条件才可以被录入数据库（部分个人信息不需要检测）。 |
| 前置条件    | 用户已经注册成功，并且已经登录小程序。                      |
| 基本事件流   | 1．用户在导航栏点击“我的信息”按钮。<br> 2．系统跳转到“我的信息”页面，展示各种信息。  3．如果用户要修改，在用户点击提交后，系统检查是否满足限制条件，是则录入数据库并且给出注册成功的提示。  4．自动跳转至登录页面。  5．用例终止。 |
| 其他事件流A1 | 用户如果不想修改信息，只想查看信息，随时可以退出界面；未提交的数据不会被数据库记录。 |
| 异常事件流   | 1．不满足限制条件，提示错误信息，用户重新输入；  2．返回到“我的信息”界面。 |
| 后置条件    | 用户修改成功，将新的用户数据存到数据库之中。                   |
| 注释      | 用户的密码必须在6位及以上，且不能只是数字；用户的用户名只能由英文字母和数字组成，不能超过12个字节（单个英文字母、数字都是一个字节）；用户的手机号需要是十一位的纯数字组合。用户名可以重复，但是用户的手机号将唯一标识用户。另外，除了用户名、密码和手机号码三项最基本的必填项不能为空，个人信息页面还有生日、所在地区、QQ号这三个修改项和注册时间这个不可修改项。 |

#### 用户注销

| 用例名称：   | 用户注销                                     |
| ------- | ---------------------------------------- |
| 用例标识号   | 503                                      |
| 参与者     | 用户                                       |
| 简要说明    | 用户想对该账号进行注销，提交申请后需等待48小时，48小时之后账号将被彻底注销。等待期间随时可以撤销注销。 |
| 前置条件    | 用户已经注册成功，并且已经登录小程序。                      |
| 基本事件流   | 1．用户在导航栏点击“我的信息”按钮。 2．系统跳转到“我的信息”页面，展示各种信息，最下方有“我要注销”按钮。  3．用户点击“我要注销”后，跳出文本框，确认用户确实想要注销账号而非误触。之后“我要注销”按钮变成“撤销注销”。  4．在用户界面显示“已发出注销请求，48小时之后将完成注销。在此期间您可以随时取消注销。 ” 5．在用户提交申请48小时后，数据库将用户信息删除。 |
| 其他事件流A1 | 用户如果在48小时内撤销了注销，那么数据库将不会删除信息。            |
| 异常事件流   | 无                                        |
| 后置条件    | 用户注销成功，数据库将用户信息删除。                       |
| 注释      | 无                                        |

### 信息交流模块

#### 发起会话

| ID       | 401                                      |
| -------- | ---------------------------------------- |
| 名称       | 发起会话                                     |
| 创建者      | 练健恒                                      |
| 最后一次更新者  | 练健恒                                      |
| 创建日期     | 2022.4.30                                |
| 最后一次更新日期 | 2022.4.30                                |
| 参与者      | 普通用户                                     |
| 触发条件     | 用户点击商品页面的发起会话                            |
| 前置条件     | 用户已登录，且该用户与出售该商品的用户不是同一人                 |
| 后置条件     | 无                                        |
| 正常流程     | 1.用户点击发起会话。<br>2.系统生成一个新的会话。<br>3.系统跳转到新生成的会话页面。 |
| 扩展流程     | 1a.两人此前已有会话：<br>  2.系统跳转到绘画页面。<br>  3.系统找回前七天两人的会话并展示。 |
| 特殊需求     | 不删除的情况下系统应能保存一年以内的所有会话                   |

#### 继续会话

| ID       | 402                                      |
| -------- | ---------------------------------------- |
| 名称       | 继续会话                                     |
| 创建者      | 练健恒                                      |
| 最后一次更新者  | 练健恒                                      |
| 创建日期     | 2022.4.30                                |
| 最后一次更新日期 | 2022.4.30                                |
| 参与者      | 普通用户                                     |
| 触发条件     | 用户点击会话页面的一个已经存在的会话                       |
| 前置条件     | 用户已登录                                    |
| 后置条件     | 无                                        |
| 正常流程     | 1.用户点击一个已经存在的会话.<br>2.系统跳转到会话页面.<br>3.系统找回之前存在的会话信息，并按时间逆序展示. |
| 扩展流程     | 无                                        |
| 特殊需求     | 继续会话时，系统要找回此前保存的未删除的所有会话信息               |

#### 删除会话

| ID       | 403                                      |
| -------- | ---------------------------------------- |
| 名称       | 删除会话                                     |
| 创建者      | 练健恒                                      |
| 最后一次更新者  | 练健恒                                      |
| 创建日期     | 2022.4.30                                |
| 最后一次更新日期 | 2022.4.30                                |
| 参与者      | 普通用户                                     |
| 触发条件     | 用户点击删除某次会话                               |
| 前置条件     | 用户已登录                                    |
| 后置条件     | 无                                        |
| 正常流程     | 1.用户点击删除某次会话。<br>2.系统弹出确认窗口。<br>3a.1用户点击确认。<br>3a.2系统删除此会话。<br>3a.3系统显示删除成功。<br>3b.1用户点击取消。<br>3b.2系统显示删除操作取消 |
| 扩展流程     | 无                                        |
| 特殊需求     | 点击删除后，系统应只保留最近一月的会话信息，其余的全部删除。           |

